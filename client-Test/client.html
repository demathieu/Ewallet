<html>
<head>
    <script type="text/javascript" src="requirements/bundle.js"></script>
    <script type="text/javascript" src="requirements/alice.js"></script>
</head>
    <body>
hello
<script> 

var state = {
   popuptimes : 0,
   // the parameters correspond to the ones in handler.set 
   filter: function(){  
    if(this.popuptimes > 2){
      return false;
    } else {
      this.popuptimes++;
      console.log(this.popuptimes);
      return true;
    }
    //return true;
  }
}

//console.log(window)

//var logger = logger(document.images);
//logger.open("http://www.w3schools.com");
//logger.src="test";
 var test = new policy(state)
                 .deny({method: 'open'})
                 .install(window);
//window.open("http://www.w3schools.com");
//console.log(test);
test.open("http://www.w3schools.com");
// var handler = {
//   get: function(target,name,recv){
//     return function(... args){
//       return target[name].apply(target,args);
//     }
    
//   }
// }

//  var proxy = new Proxy(window,handler);
// proxy.alert("test");
//window.alert("test");
 // var proxy = new Proxy(document,handler);
 // proxy.createElement("Iframe");

console.log("done");
</script>	
    </body>
</html>
