<html>
<head>
    <script type="text/javascript" src="requirements/bundle.js"></script>
    <script type="text/javascript" src="requirements/alice.js"></script>
</head>
    <body>
hello
<script>

console.log("hello");


//console.log(window)

//var logger = logger(document.images);
//logger.open("http://www.w3schools.com");
//logger.src="test";
var state = {
	 popuptimes : 0,
	 // the parameters correspond to the ones in handler.set
	 filter: function(target,name,value,recv){
	 	if(this.popuptimes >= 2){
	 		return false;
	 	} else {
			this.popuptimes++;
			return true;
		}
	}
}

  var test = new policy(state)
                  .deny({method: 'open'})
                  .install(window);
//window.open("http://www.w3schools.com");
//console.log(test);
test.open("http://www.w3schools.com");


// var handler = {
//   get: function(target,name,recv){
//     console.log("get: "+ name)
//     return function(... args){
//       return target[name].apply(this,args);
//     }
//
//   }
// }
//
// var proxy = new Proxy(alice,handler);
//proxy.alert("test");
// console.log(proxy.removeAmount(10))
//window.alert("test");
 // var proxy = new Proxy(document,handler);
 // proxy.createElement("Iframe");

console.log("done");
</script>
    </body>
</html>
